# 커리어-매칭 RAG 챗봇 기획안

## 1. 프로젝트 개요
- **프로젝트명**: 커리어-매칭 RAG 챗봇
- **목표**: 사용자의 희망 직무·스킬·경력 정보를 바탕으로 사람인 등에서 수집한 채용공고와 직무 설명 문서를 검색·분석하여 개인화된 직무 추천 및 요구 스킬 인사이트 제공
- **사용 시나리오**:  
  1. 사용자가 “데이터 분석가” 등 키워드를 입력  
  2. 챗봇이 해당 직무의 최신 트렌드/요구 스킬을 요약  
  3. 사용자의 경력, 선호 스킬을 추가 질문으로 확보  
  4. 크롤링 데이터에서 매칭되는 공고 3~5개와 추천 사유, 주요 요구 스킬을 안내  
  5. 사용자는 추가 질의를 통해 특정 회사/공고 상세를 계속 묻고 멀티턴으로 피드백

## 2. 기술 스택 및 전체 구조
1. **데이터 수집**: Python + `requests`/BeautifulSoup 기반 커스텀 크롤러 (필요 시 Scrapy/Selenium 확장)
2. **저장/전처리**: SQLite → 후속 단계에서 PostgreSQL/Parquet로 확장 가능
3. **임베딩/벡터 DB**: HuggingFace 임베딩(E5 계열) + Chroma/FAISS
4. **LLM / RAG 체인**: OpenAI Chat 모델 or 무료 대안 + LangChain runnable comp.
5. **프론트엔드**: Streamlit 멀티턴 UI (채팅 + 추천 카드 + 로그)
6. **배포**: 로컬 PoC → 사내 서버/클라우드 컨테이너로 확장

```
사용자 → Streamlit UI → RAG API → (LLM + Retriever + History)
                                ↘ 벡터DB (공고/직무설명)
                                     ↘ SQLite / 원본 문서
                          크롤링 스케줄러 → 데이터 정제 → 임베딩 파이프라인
```

## 3. 단계별 계획
### 1) 데이터 수집
- 대상: 사람인(people search) 공개 공고 리스트
- 모듈: `career_matcher/crawler/crawler.py` (키워드 기반, delay/retry/CSV 백업 포함)
- TODO: robots.txt/이용약관 점검, 요청 헤더/지연/프록시 전략 마련

### 2) 전처리/저장 + 임베딩
- `job_postings` 테이블 기준 스키마
  | 필드 | 설명 |
  | --- | --- |
  | job_id | 원문 rec_idx/idx |
  | title | 직무명 |
  | company | 기업명 |
  | location | 근무 지역/형태 |
  | salary | 연봉/급여 범위 |
  | skills | 요구 스킬 키워드 텍스트 |
  | posted_at / closes_at | 게시·마감일 |
  | url | 원문 링크 |
  | scraped_at | 수집 시각 |
- 추가 문서 테이블 `job_profiles`(doc_id, keyword, description, source, updated_at)로 외부 직무 설명/트렌드 저장
- 임베딩 파이프라인: 텍스트 정규화 → 임베딩 → 벡터 DB upsert (채용공고 본문, 직무 설명 각각 별도 컬렉션)

### 3) RAG 챗봇 인터페이스
- 멀티턴 구조: `chat_history + user_query + context` → LLM
- 프롬프트 예시:
  - 1차 질문: “희망하는 직무/산업을 알려주세요.”
  - 직무 설명 요약: 직무 문서 컬렉션에서 top-k 검색 → 요구 스킬/트렌드 3가지 서머리
  - 사용자 스킬 질문: “보유 스킬이나 관심 기술이 있나요?”
  - 매칭: 채용공고 컬렉션에서 사용자 키워드와 overlap 높은 상위 3~5개 → 각 공고 설명 + 추천 근거
  - 후속 질의는 공고 상세 정보 또는 비슷한 포지션 추천으로 이어짐

### 4) 직무 매칭 로직 강화
- 가중치: 텍스트 유사도 + 명시적 필드(지역, 경력연차, 스킬 태그) scoring
- 추후 ML 모델(예: BM25 + semantic rerank, 혹은 간단한 분류기)로 확장
- 사용자 프로필(선호 지역, 경력년수, 관심 도메인)을 세션/저장소에 기록하여 계속 반영

## 4. 컴플라이언스 및 안전
- 사람인 등 외부 사이트는 **이용약관·robots.txt** 준수가 최우선
- 비상업/연구 목적에서도 요청 빈도 제한(기본 2초 이상 지연), 헤더 명시, 프록시 사용 시 법적 검토 필요
- 크롤링한 데이터는 내부 저장소에서만 사용하고, 외부 재배포/상업 이용 금지
- 사용자 개인정보는 미수집 또는 익명화 처리

## 5. 일정(초안)
| 주차 | 작업 |
| --- | --- |
| 1 | 크롤링 모듈 고도화(키워드 리스트/스케줄) + 데이터 샘플 확보 |
| 2 | 스키마 정리, 임베딩 파이프라인, 벡터 DB 구축 |
| 3 | RAG 프롬프트/체인 개발, Streamlit UI 1차 버전 |
| 4 | 매칭 로직 튜닝, 테스트 시나리오, UX 개선 |

## 6. 향후 확장 아이디어
1. 공고 원문 상세 페이지 파싱 + JD 요약 자동화
2. 직무 역량 평가(사용자 스킬 입력 → 요구 스킬 대비 갭 분석)
3. 알림 서비스: 새로운 매칭 공고 발생 시 이메일/슬랙 알림
4. 다국어 지원 및 해외 채용 사이트 확장

---
문의/후속 버전 계획은 `career_matcher/README.md`와 본 기획안을 기준으로 업데이트합니다.
